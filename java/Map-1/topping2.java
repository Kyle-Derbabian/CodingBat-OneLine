public Map<String, String> topping2(Map<String, String> map) {
  return map.containsKey("yogurt") && map.containsKey("ice cream") ? map.entrySet().stream().collect(Collectors.toMap(n -> n.getKey(), n -> map.containsKey("ice cream") && n.getKey().equals("yogurt") ? map.get("ice cream") : n.getKey().equals("spinach") ? "nuts" : n.getValue())) : map.containsKey("ice cream") ? java.util.stream.Stream.concat(java.util.stream.Stream.of(new String[][]{{"yogurt", map.get("ice cream")}}).collect(Collectors.toMap(n -> n[0], n -> n[1])).entrySet().stream(), map.entrySet().stream().collect(Collectors.toMap(n -> n.getKey(), n -> map.containsKey("ice cream") && n.getKey().equals("yogurt") ? map.get("ice cream") : n.getKey().equals("spinach") ? "nuts" : n.getValue())).entrySet().stream()).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)) : map;
}
